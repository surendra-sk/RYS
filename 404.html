<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Redirecting...</title>
<script>
(function() {
    // Current path & query
    const fullPath = window.location.pathname + window.location.search;

    // Try opening the app
    const baseURL = "http://rentyoursthan.in";
    const appLink = baseURL + (fullPath.startsWith("/") ? fullPath : "/" + fullPath);

    const fallback = "https://play.google.com/store/apps/details?id=com.mycompany.rentyoursthan";

    // On Android Chrome: use intent:// for faster open
    if (/Android/i.test(navigator.userAgent)) {
        window.location.href = 
            "intent://" + fullPath.substring(1) + "#Intent;scheme=https;package=com.mycompany.rentyoursthan;S.browser_fallback_url=" +
            encodeURIComponent(fallback) + ";end";
    } 
    // iOS & others: use delay + fallback
    else {
        const now = Date.now();
        window.location = appLink;
        setTimeout(function() {
            if (Date.now() - now < 1500) {
                window.location = fallback;
            }
        }, 1000);
    }
})();
</script>
</head>
<body>
Redirecting...
</body>
</html>
